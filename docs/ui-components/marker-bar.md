# 📍 UIコンポーネント仕様：Marker Bar（マーカー機能）

このドキュメントでは、トラック波形上に設置される「マーカー」機能に関する仕様を定義します。

---

## 🧩 配置場所

* 各トラック波形の上に重なる形で表示
* A点／B点／任意マーカーすべてを共通エリアで扱う

---

## 🧷 表示仕様

| 種類     | 説明                | 表示方法          |
| ------ | ----------------- | ------------- |
| Aマーカー  | ABリピートの開始位置       | 三角形、青色系、固定表示  |
| Bマーカー  | ABリピートの終了位置       | 三角形、赤色系、固定表示  |
| 任意マーカー | ユーザーが設置可能な位置指定ラベル | 小さなドット＋ツールチップ |

* マーカーが重なる場合は少しずらして表示（衝突回避）

---

## 🖱️ 操作仕様

| 操作                | 内容                     |
| ----------------- | ---------------------- |
| ダブルクリック           | 任意位置に新規マーカーを追加         |
| マーカーのドラッグ         | マーカーの再配置（A/B含む）        |
| マウスホバー            | ツールチップでラベル表示           |
| コンテキストメニュー（右クリック） | 削除 or ラベル編集（Phase 2想定） |

---

## 🎨 スタイル仕様

* A/Bマーカーは色分けで明確に識別
* 任意マーカーは小型、必要時のみ表示
* ホバー時に拡大＋ツールチップ

---

## 🧠 状態管理

* 各マーカーはトラックIDに紐付けて保持
* ABマーカーはグローバルに一組（プレイリスト全体に対応）

```ts
interface Marker {
  id: string;
  trackId: string;
  position: number;
  type: "A" | "B" | "custom";
  label?: string;
}
```

* 保存先：localStorage または IndexedDB

---